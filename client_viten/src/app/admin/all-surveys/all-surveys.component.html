<div class="searchBox">
  <md-input-container class="search">
    <input mdInput type="search"
            placeholder="{{'Search' | translate}}"
            [formControl]="searchFormControl"
            [(value)]="searchInput"
            md-tooltip="{{ 'Filter results on title and / or admin comment' | translate }}">
    <span md-prefix><md-icon class="searchIcon">search</md-icon></span>
  </md-input-container>
  <button md-mini-fab
  class="addButton"
  color="primary"
  routerLink="/admin/editsurvey"
  routerLinkActive="active"
  md-tooltip="{{ 'Create New Survey' | translate }}">
  <md-icon>add</md-icon>
</button>
</div>


<md-progress-spinner *ngIf="searchLoading" mode="indeterminate" class="loadingCircle" color="primary"></md-progress-spinner>


<tree
  [tree]="treeModel"
  [settings]="treeSettings"
  (nodeSelected)="treeNodeSelected($event)">
</tree>
  <!--
  <tree
  [tree]="tree"
    [settings]="settings"
    (nodeRemoved)="handleRemoved($event)"
    (nodeRenamed)="handleRenamed($event)"
    (nodeSelected)="handleSelected($event)"
    (nodeMoved)="handleMoved($event)"
    (nodeCreated)="handleCreated($event)"
    (nodeExpanded)="handleExpanded($event)"
    (nodeCollapsed)="handleCollapsed($event)">
  </tree>
  -->
</div>

<!-- loading circle -->
<md-progress-spinner *ngIf="loading" mode="indeterminate" class="loadingCircle" color="primary"></md-progress-spinner>
<span class="listComment"  *ngIf="!loading">
  {{ 'n total surveys. A maximum of m items are displayed.' | translate: [surveyService.surveyList.length,
  searchResultNum > surveyService.surveyList.length ? surveyService.surveyList.length : searchResultNum] }}
</span>

<!-- More button -->
<button md-raised-button *ngIf="surveyService.surveyList.length > searchResultNum"
  class="loadMoreButton" color="primary" (click)="loadMore()">{{ 'Load more' | translate }}</button>
