<!-- The main container of the component -->
<div class="active_survey_window">
  <input class="quitSurvey" type="image" src="../../assets/images/Exit.svg" (click)="quitSurvey()">
  <!--testdata
  <p>
    active-survey works!
  </p>-->
  <!--Startbutton for an active survey   *ngIf="!started"   -->
  <div class="startTextContainer" *ngIf="!started">
    <span class="startText"> Start Unders√∏kelse </span>

    <div *ngIf="englishEnabled" class="languageSelection">
      <!--TODO need clickevent to load the speified language-->
      <button md-icon-button color="accent" (click)="switchtoen()">
        <input type="image" src="../../assets/images/FlaggUK.svg">
      </button>
      <button md-icon-button color="accent" (click)="switchtono()">
        <input type="image" src="../../assets/images/FlagNorge.svg">
      </button>


      <!--TODO need clickevent to load the specified language. The commented code under is not in use but is showing how div above shold look-->
      <!--
      <button md-icon-button color="accent" (click)="translateService.use('no')" [ngClass]="{'active': translateService.getCurrentLang() === 'no'}">
        <input type="image" src="../../assets/images/FlagNorge.svg">
      </button>
      -->
    </div>
  </div>
  <!-- The playbutton at the start of every survey -->
  <div class="playbutton" [ngClass]="{'clicked': started}">
    <input class="svgButton" type="image" src="../../assets/images/PlayButton.svg" (click)="startSurvey()">
  </div>
  <div class="logoContainer" *ngIf="!started">
    <div class="vitenContainer">
      <img class="vitenlogo" src="../../assets/images/vitenlogo.png" alt="Vitensenteret"/>
    </div>
    <div class="robotContainer">
      <img class="robotlogo" src="../../assets/images/robotlogo.png" alt="Vitensenteret"/>
    </div>
  </div>

  <!-- The actual view of each survey -->
  <div class="surveyView" *ngIf="properSurvey && started">
    <!-- The exit button that is located in the top left corner of the screen -->
    <input class="exitButton" type="image" src="../../assets/images/Exit.svg" (click)="exitSurvey()">
    <!--This is the view for each survey-question -->
    <div class="surveyQuestion" [@easeInOut] = "" (@easeInOut.done)="animEnd($event)" *ngIf="!transition ">

      <!-- Either displays the title of a question or shows the endMessage if the survey is done -->
      <div class="txt" *ngIf="!this.done"><span class="questionTitle">{{this.language}}</span></div>
      <div class="surveyDone" *ngIf="this.done" (click)="exitSurvey()"><span>{{survey.endMessage.no}}</span></div>

      <!-- Childcomponents that handle each answer-type -->
      <div class="answerTypes">
        <app-stars *ngIf = "survey.questionlist[page].mode == 'star' && !this.done" [questionObject] = survey.questionlist[page] (answer) = 'addOrChangeAnswer($event); autoAdvance()'></app-stars>
        <app-smiley *ngIf = "survey.questionlist[page].mode == 'smiley' && !this.done" [questionObject] = survey.questionlist[page] (answer) = 'addOrChangeAnswer($event); autoAdvance()'></app-smiley>
        <app-singleChoice *ngIf = "survey.questionlist[page].mode == 'single' && !this.done" [questionObject] = survey.questionlist[page] (answer) = 'addOrChangeAnswer($event); autoAdvance()'></app-singleChoice>
        <app-multiplechoice *ngIf = "survey.questionlist[page].mode == 'multi' && !this.done" [questionObject] = survey.questionlist[page] (answer) = 'addOrChangeAnswer($event);'></app-multiplechoice>
        <app-yes-no *ngIf = "survey.questionlist[page].mode == 'binary' && !this.done" [questionObject] = survey.questionlist[page] (answer) = 'addOrChangeAnswer($event); autoAdvance()'></app-yes-no>
        <app-freetxt *ngIf = "survey.questionlist[page].mode == 'text' && !this.done" [questionObject] = survey.questionlist[page] (answer) = 'addOrChangeAnswer($event); autoAdvance()'></app-freetxt>
      </div>

    </div>

    <!-- The navigate area at the footer of the browser -->
    <div class="qnavigate" *ngIf="!this.done">
      <div class="qnavigateArea"><input class="qnavigateArea" type="image" id="previousQButton" src="../../assets/images/ArrowLeft.svg" (click)="previousQ()" [disabled]="transition">
      </div>
      <h3>{{page+1}}/{{totalPages}}</h3>
      <div class="qnavigateArea alignRight"><input class="qnavigateArea alignRight" type="image" id="nextQButton" src="../../assets/images/ArrowRight.svg" (click)="nextQ()" [disabled]="transition">
      </div>
    </div>

  </div>
</div>
